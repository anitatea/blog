
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Featuring... Feature Engineering!</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Anita Tran" />
    <meta name="description" content="As someone with an engineering background, I was naturally drawn to the concept of Feature Engineering and excited to take my first dive into machine learning through finding organization and insights from messy data – real world data. Feature engineering is the way of extracting features (variables) from data and transforming …" />
    <meta name="keywords" content="">
<!-- Facebook and Twitter integration -->
<meta property="og:site_name" content="Anita Tran"/>
<meta property="og:title" content="Featuring... Feature Engineering!"/>
<meta property="og:description" content="As someone with an engineering background, I was naturally drawn to the concept of Feature Engineering and excited to take my first dive into machine learning through finding organization and insights from messy data – real world data. Feature engineering is the way of extracting features (variables) from data and transforming …"/>
<meta property="og:url" content="https://anitatea.github.io/blog/2019/12/feature-engineering.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-12-09 00:00:00-05:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://anitatea.github.io/blog/author/anita-tran.html">
<meta property="article:section" content="blog"/>
    <meta property="og:image" content="https://anitatea.github.io/blog/./images/blog/blog_1.jpeg">

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <!-- <link rel="stylesheet" type="text/css" href="https://anitatea.github.io/blog/theme/css/icomoon.css"> -->

    <script src="https://kit.fontawesome.com/d51a65b9ad.js" crossorigin="anonymous"></script>

    <!-- Bootstrap  -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/flexslider.css">
    <!-- Theme style  -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/style.css">
    <!-- Custom style  -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/custom.css">
    <!-- pygments code highlight -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/css/pygments.css">
    <!-- tipue search -->
    <link rel="stylesheet" href="https://anitatea.github.io/blog/theme/tipuesearch/css/tipuesearch.css">

    <!-- Modernizr JS -->
    <script src="https://anitatea.github.io/blog/theme/js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="/theme/js/respond.min.js"></script>
    <![endif]-->
        <link href="https://anitatea.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Anita Tran Atom">


    <style>
    img {
      width: 100%;
      height: auto;
    }
    </style>


    </head>
    <body>
    <div id="fh5co-page">
        <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
        <aside id="fh5co-aside" role="complementary" class="border js-fullheight">

            <nav class="fh5co-main-menu" role="navigation">
              <ul class="fh5co-active"><h2 class="fh5co-heading-colored" href="https://anitatea.github.io/blog/">Anita Tran</h2></ul>
                <!--     <ul class="language-navigation">
        <li>
                <a class="lang-active" href="https://anitatea.github.io/blog/">en</a>
                <a href="https://anitatea.github.io/blog/de/">de</a>
        </li>
    </ul>
 -->
            </nav>
            <div class="clearfix"></div>
            <h1 id="fh5co-logo">
                <a href="https://anitatea.github.io/blog/index.html">
                    <img src="./images/logo.png"/>
                </a>
            </h1>
            <nav class="fh5co-main-menu" role="navigation">
<ul>
    <!-- home link -->
    <li><a href="https://anitatea.github.io/blog/">Home</a></li>

    <!-- page links -->
            <li><a href="https://anitatea.github.io/blog/pages/about/">About</a></li>


    <!-- categories -->
        <li><a href="https://anitatea.github.io/blog/categories.html">Categories</a></li>

    <!-- tags -->

    <!-- additional menu items from config -->
        <!-- <li class="nav-title">Misc</li> -->
            <li><a href="https://anitatea.github.io/blog/archives.html">Archive</a></li>
            <li><a href="https://anitatea.github.io/blog/contact.html">Contact</a></li>

</ul>
<ul><li><form id="searchform" action="https://anitatea.github.io/blog/search.html">
    <input id="tipue_search_input" data-siteurl="https://anitatea.github.io/blog" type="text" size="60" class="form-control search-field" name="q">

    <button type="submit" class="btn btn-primary search-submit"><i class="icon-blog"></i></button>
</form></li></ul>
            </nav>

<ul id="social">
            <li><a href="https://www.github.com/anitatea" alt="Github"><i class="fab fa-github fa-2x"></i></a></li>

            <li><a href="https://www.linkedin.com/in/anitat/" alt="LinkedIn"><i class="fab fa-linkedin fa-2x"></i></a></li>

            <li><a href="https://www.instagram.com/i.need.a.tea/" alt="instagram"><i class="fab fa-instagram fa-2x"></i></i></a></li>

</ul>
        </aside>

        <div id="fh5co-main">

    <div class="fh5co-narrow-content article-content">
        <h1 class="fh5co-heading-colored">Featuring... Feature Engineering!</h1>

        <div>by
                <a href="author/anita-tran.html">Anita Tran</a> - Mon, 09 Dec 2019
        </div>


        <div class="animate-box" data-animate-effect="fadeInLeft">
            <p class="animate-box" data-animate-effect="fadeInLeft"><!-- https://images.pexels.com/photos/1036936/pexels-photo-1036936.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260 -->

<p>As someone with an engineering background, I was naturally drawn to the concept of Feature Engineering and excited to take my first dive into machine learning through finding organization and insights from messy data – real world data.</p>
<p><img src='https://pics.me.me/real-world-datasets-boton-nouse-oricess-0-gi-i-think-i-49704783.png' width="200"></p>
<p>Feature engineering is the way of extracting features (variables) from data and transforming them into features that are suitable for Machine Learning algorithms.</p>
<p>There are 3 main steps:</p>
<ol>
<li>
<p>Feature Selection – All features aren’t equal. Therefore certain features which are more important than others will affect the accuracy of the prediction model. Methods of Feature Selection include correlation coefficient scores, Ridge regression, LASSO, and ElasticNet.</p>
</li>
<li>
<p>Feature Transformation – Filling missing data values, scaling, and binning are common forms of transformation. To reduce skewness of the data when we do this, a log scale is used. We all know real world data is messy</p>
</li>
<li>
<p>Feature Extraction – Large datasets are generally found to be redundant, therefore we’d want to reduce dimensionality of these features. To do so, constructing combination of our features extracts the features important to our model.</p>
</li>
</ol>
<p>Suppose we’re given flight time data and asked to predict the price of a flight based on the departure and arrival times.</p>
<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;dep_time&#39;</span><span class="p">,</span> <span class="s1">&#39;arrival_time&#39;</span><span class="p">,</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;prices&#39;</span><span class="p">]]</span>
<span class="n">df</span>
</pre></div>


<p><img src='https://github.com/anitatea/blog/blob/master/content/images/before.png?raw=true' width="100"></p>
<p>We want to have 'dep_time' and 'arrival_time' in similar formats that are easier to analyse. How could we simplify these features for our model (and us) to understand?</p>
<p>One way to interpret this data is we can bin the times to sections of time in a 24 hour scale. Night [0-5], Morning [6-11], Afternoon [12-17] and Evening [18-23] will be our bins. Note: For 'Arrival Time', we can drop the date landed, as it is captured in 'Duration'.</p>
<p>Binning Departure Time ('dep_time'):</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;departure_t&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df1</span><span class="p">[</span><span class="s1">&#39;dep_time&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">dept_session</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;departure_t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">24</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Night&#39;</span><span class="p">,</span><span class="s1">&#39;Morning&#39;</span><span class="p">,</span><span class="s1">&#39;Afternoon&#39;</span><span class="p">,</span><span class="s1">&#39;Evening&#39;</span><span class="p">]))</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;departure_S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;dept_session&#39;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>


<p><img src='https://github.com/anitatea/blog/blob/master/content/images/dep_after.png?raw=true' width="200"></p>
<p>Binning Arrival Time:</p>
<div class="highlight"><pre><span></span><span class="n">arr_time</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;arrival_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;arrival_t&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">arr_time</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">arr_session</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;arrival_t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">24</span><span class="p">],</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Night&#39;</span><span class="p">,</span><span class="s1">&#39;Morning&#39;</span><span class="p">,</span><span class="s1">&#39;Afternoon&#39;</span><span class="p">,</span><span class="s1">&#39;Evening&#39;</span><span class="p">]))</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;arrival_S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;arr_session&#39;</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>


<p><img src='https://github.com/anitatea/blog/blob/master/content/images/arr_after.png?raw=true' width="700"></p>
<p>Visualizing what we just did:</p>
<p><img src='https://github.com/anitatea/blog/blob/master/content/images/dep_plot.png?raw=true' width="300"></p>
<p><img src='https://github.com/anitatea/blog/blob/master/content/images/arr_plot.png?raw=true' width="300"></p>
<p>Within a few minutes of working with our data, we can hypothesize that a majority of people leave in the morning and majority of people arrive in the evening. This quick analysis can help airports focus customer service efforts based on frequencies of flyers to ride-share organizations optimizing drivers on hand for those rushing in and out of the airport.</p>
<p>This is just one simple example of feature engineering - there's so much more to explore!</p>
<p>Feature engineering is an important art of transforming raw data into features that better represent the data for machine learning and can make or break your model.</p></p>
        </div>
    </div>

<div class="fh5co-narrow-content">
<div class="animate-box" data-animate-effect="fadeInLeft">
    <h2><!-- <i class="icon-speech-bubble"></i>  -->Comments</h2>
</div>
<div class="animate-box" data-animate-effect="fadeInLeft">
    <div id="disqus_thread"></div>
</div>

<script>
var disqus_config = function () { 
  this.language = "en";
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://gitcd-dev.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript><a href="https://disqus.com/?ref_noscript">Please enable JavaScript to view the comments powered by Disqus.</a></noscript>
<div class="fh5co-footer">
    <p><small>&copy; Anita Tran 2020 - Built with <a href="http://getpelican.com" target="_blank">Pelican</a>.</span> <span><a href="https://github.com/claudio-walser/pelican-fh5co-marble" target="_blank">FreeHTML5.co Marble Design</a></span>
    <br /></small></p>
</div>        </div>
    </div>

    <!-- jQuery -->
    <script src="https://anitatea.github.io/blog/theme/js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="https://anitatea.github.io/blog/theme/js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="https://anitatea.github.io/blog/theme/js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="https://anitatea.github.io/blog/theme/js/jquery.waypoints.min.js"></script>
    <!-- Flexslider -->
    <script src="https://anitatea.github.io/blog/theme/js/jquery.flexslider-min.js"></script>


    <!-- MAIN JS -->
    <script src="https://anitatea.github.io/blog/theme/js/main.js"></script>
    </body>
</html>

<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Epic visualizations to plot epidemics</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Anita Tran" />
    <meta name="description" content="Data visualization is one of my favourite creative outlets - to draw out deeper insights from meaningful data. Like this. (Image source: Graphjam.com) Visualization packages in Python is far from scarce and there are great options for static graphs. However, as data gets more complex and understanding becomes more distant …" />
    <meta name="keywords" content="">
<!-- Facebook and Twitter integration -->
<meta property="og:site_name" content="FH5CO Marble Example"/>
<meta property="og:title" content="Epic visualizations to plot epidemics"/>
<meta property="og:description" content="Data visualization is one of my favourite creative outlets - to draw out deeper insights from meaningful data. Like this. (Image source: Graphjam.com) Visualization packages in Python is far from scarce and there are great options for static graphs. However, as data gets more complex and understanding becomes more distant …"/>
<meta property="og:url" content="http://localhost:8081/2020/01/dash-plotly.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-01-27 00:00:00-05:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://localhost:8081/author/anita-tran.html">
<meta property="article:section" content="blog"/>
    <meta property="og:image" content="http://localhost:8081//images/blog/blog_4.jpeg">

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <!-- <link rel="stylesheet" type="text/css" href="http://localhost:8081/theme/css/icomoon.css"> -->

    <script src="https://kit.fontawesome.com/d51a65b9ad.js" crossorigin="anonymous"></script>

    <!-- Bootstrap  -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/flexslider.css">
    <!-- Theme style  -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/style.css">
    <!-- Custom style  -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/custom.css">
    <!-- pygments code highlight -->
    <link rel="stylesheet" href="http://localhost:8081/theme/css/pygments.css">
    <!-- tipue search -->
    <link rel="stylesheet" href="http://localhost:8081/theme/tipuesearch/css/tipuesearch.css">

    <!-- Modernizr JS -->
    <script src="http://localhost:8081/theme/js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="/theme/js/respond.min.js"></script>
    <![endif]-->
        <link href="http://localhost:8081/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="FH5CO Marble Example Atom">


    <style>
    img {
      width: 100%;
      height: auto;
    }
    </style>


    </head>
    <body>
    <div id="fh5co-page">
        <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
        <aside id="fh5co-aside" role="complementary" class="border js-fullheight">

            <nav class="fh5co-main-menu" role="navigation">
              <ul class="fh5co-active"><h2 class="fh5co-heading-colored" href="http://localhost:8081/">Anita Tran</h2></ul>
                <!--     <ul class="language-navigation">
        <li>
                <a class="lang-active" href="http://localhost:8081/">en</a>
                <a href="http://localhost:8081/de/">de</a>
        </li>
    </ul>
 -->
            </nav>
            <div class="clearfix"></div>
            <h1 id="fh5co-logo">
                <a href="http://localhost:8081/index.html">
                    <img src="./images/logo.png"/>
                </a>
            </h1>
            <nav class="fh5co-main-menu" role="navigation">
<ul>
    <!-- home link -->
    <li><a href="http://localhost:8081/">Home</a></li>

    <!-- page links -->
            <li><a href="http://localhost:8081/pages/about/">About</a></li>


    <!-- categories -->
        <li><a href="http://localhost:8081/categories.html">Categories</a></li>

    <!-- tags -->
        <li><a href="http://localhost:8081/tags.html">Tags</a></li>

    <!-- additional menu items from config -->
        <!-- <li class="nav-title">Misc</li> -->
            <li><a href="http://localhost:8081/archives.html">Archive</a></li>
            <li><a href="http://localhost:8081/contact.html">Contact</a></li>

</ul>
<ul><li><form id="searchform" action="http://localhost:8081/search.html">
    <input id="tipue_search_input" data-siteurl="http://localhost:8081" type="text" size="60" class="form-control search-field" name="q">

    <button type="submit" class="btn btn-primary search-submit"><i class="icon-blog"></i></button>
</form></li></ul>
            </nav>

<ul id="social">
            <li><a href="https://www.github.com/anitatea" alt="Github"><i class="fab fa-github fa-2x"></i></a></li>

            <li><a href="https://www.linkedin.com/in/anitat/" alt="LinkedIn"><i class="fab fa-linkedin fa-2x"></i></a></li>

            <li><a href="https://www.instagram.com/i.need.a.tea/" alt="instagram"><i class="fab fa-instagram fa-2x"></i></i></a></li>

</ul>
        </aside>

        <div id="fh5co-main">

    <div class="fh5co-narrow-content article-content">
        <h1 class="fh5co-heading-colored">Epic visualizations to plot epidemics</h1>

        <div>by
                <a href="author/anita-tran.html">Anita Tran</a> - Mon, 27 Jan 2020
        </div>


        <div class="animate-box" data-animate-effect="fadeInLeft">
            <p class="animate-box" data-animate-effect="fadeInLeft"><!-- https://images.pexels.com/photos/1164536/pexels-photo-1164536.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260 -->

<p>Data visualization is one of my favourite creative outlets - to draw out deeper insights from meaningful data. Like this.</p>
<p><img src= 'http://lh6.ggpht.com/_gKQKwLZ8XUs/S9imwa3sgvI/AAAAAAAACiE/vM0kklCnsAk/s800/Graphjam-Essay.jpg'></p>
<p>(Image source: <a href="https://www.boredpanda.com/35-extremely-funny-graphs-and-charts/?utm_source=duckduckgo&amp;utm_medium=referral&amp;utm_campaign=organic">Graphjam.com</a>)</p>
<p>Visualization packages in Python is far from scarce and there are great options for static graphs.</p>
<p>However, as data gets more complex and understanding becomes more distant, there is an obvious need for interactive visualizations to more easily explore data.</p>
<h3>What's <a href="https://plot.ly/">Dash</a></h3>
<p><em>"Bringing data science out of the lab and into the business.</em></p>
<p>Formally only available for enterprise, Dash is now an open source library (free!) for creating interactive web-based visualizations. Highly interactive web application using Python or R.</p>
<p>HTML/CSS/JavaScript not required <em>(... and the door is that-a-way)</em>.</p>
<p>What I think makes it powerful is it is able to incorporate all the functionalities of Python for data manipulation and much more.</p>
<p>Amazon, Cisco, Shell, among other worldwide enterprises have been embracing this tool for large scale deployments.  </p>
<h3>Let's Get Started</h3>
<p>Pretty straight forward. More details for updates on the <a href="https://dash.plot.ly/installation">Dash installation page</a>.</p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">dash</span>
</pre></div>


<h3>Sample Interactive Bar Chart</h3>
<p>I used data from the <a href="https://data.cdc.gov/NCHS/NCHS-Drug-Poisoning-Mortality-by-State-United-Stat/44rk-q6r2">Centers for Disease Control and Prevention on Drug Poisoning Mortality by State in the United States</a>. I'm going to build an interactive bar chart that shows absolute deaths per state in 2016 and 2017. (The dataset has been updated on April 29, 2019 and so I believe this is the most accurate dataset to this date.)</p>
<p>Bring in all the dash modules and pandas for reading and manipulating the data. I saved this file as <code>bar_app.py</code>:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># to manipulate our data</span>
</pre></div>


<p>For this simple example, I'm choosing to import the <code>plotly.graph_objs</code> whereas the documentation uses dcc.graph to build the plot.</p>
<p>Writing this article, I felt that it was easier to use the plotly graph object since there were a lot more examples online than there were the plain <code>dcc.graph</code> for the simple cases.</p>
<p>This is my preference and I do find it more straightforward to demonstrate this example.</p>
<p>Reading in the first few pieces of data and filtering for deaths by state in 2016 and 2017:</p>
<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/NCHS_-_Drug_Poisoning_Mortality_by_State__United_States.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>State</th>
      <th>Year</th>
      <th>Sex</th>
      <th>Age Group</th>
      <th>Race and Hispanic Origin</th>
      <th>Deaths</th>
      <th>Population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alabama</td>
      <td>1999</td>
      <td>Both Sexes</td>
      <td>All Ages</td>
      <td>All Races-All Origins</td>
      <td>169</td>
      <td>4430143</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Alabama</td>
      <td>2000</td>
      <td>Both Sexes</td>
      <td>All Ages</td>
      <td>All Races-All Origins</td>
      <td>197</td>
      <td>4447100</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Alabama</td>
      <td>2001</td>
      <td>Both Sexes</td>
      <td>All Ages</td>
      <td>All Races-All Origins</td>
      <td>216</td>
      <td>4467634</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Alabama</td>
      <td>2002</td>
      <td>Both Sexes</td>
      <td>All Ages</td>
      <td>All Races-All Origins</td>
      <td>211</td>
      <td>4480089</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Alabama</td>
      <td>2003</td>
      <td>Both Sexes</td>
      <td>All Ages</td>
      <td>All Races-All Origins</td>
      <td>197</td>
      <td>4503491</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="c1"># I only need State, Year and Deaths column</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;State&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Deaths&#39;</span><span class="p">]]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># check unique states</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="err">array([&#39;Alabama&#39;, &#39;Alaska&#39;, &#39;Arizona&#39;, &#39;Arkansas&#39;, &#39;California&#39;,</span>
<span class="err">       &#39;Colorado&#39;, &#39;Connecticut&#39;, &#39;Delaware&#39;, &#39;District of Columbia&#39;,</span>
<span class="err">       &#39;Florida&#39;, &#39;Georgia&#39;, &#39;Hawaii&#39;, &#39;Idaho&#39;, &#39;Illinois&#39;, &#39;Indiana&#39;,</span>
<span class="err">       &#39;Iowa&#39;, &#39;Kansas&#39;, &#39;Kentucky&#39;, &#39;Louisiana&#39;, &#39;Maine&#39;, &#39;Maryland&#39;,</span>
<span class="err">       &#39;Massachusetts&#39;, &#39;Michigan&#39;, &#39;Minnesota&#39;, &#39;Mississippi&#39;,</span>
<span class="err">       &#39;Missouri&#39;, &#39;Montana&#39;, &#39;Nebraska&#39;, &#39;Nevada&#39;, &#39;New Hampshire&#39;,</span>
<span class="err">       &#39;New Jersey&#39;, &#39;New Mexico&#39;, &#39;New York&#39;, &#39;North Carolina&#39;,</span>
<span class="err">       &#39;North Dakota&#39;, &#39;Ohio&#39;, &#39;Oklahoma&#39;, &#39;Oregon&#39;, &#39;Pennsylvania&#39;,</span>
<span class="err">       &#39;Rhode Island&#39;, &#39;South Carolina&#39;, &#39;South Dakota&#39;, &#39;Tennessee&#39;,</span>
<span class="err">       &#39;Texas&#39;, &#39;United States&#39;, &#39;Utah&#39;, &#39;Vermont&#39;, &#39;Virginia&#39;,</span>
<span class="err">       &#39;Washington&#39;, &#39;West Virginia&#39;, &#39;Wisconsin&#39;, &#39;Wyoming&#39;],</span>
<span class="err">      dtype=object)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># &#39;United States&#39; is obviously not a state. I suspect it captures deaths that are uncategorized.</span>
<span class="c1"># For our example, we&#39;ll drop these rows.</span>

<span class="n">indexUS</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;United States&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">indexUS</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># filter for 2016</span>
<span class="n">df_2016</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2016</span><span class="p">]</span>

<span class="c1"># filter for 2016</span>
<span class="n">df_2017</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2017</span><span class="p">]</span>
</pre></div>


<p>Now that the data is simply tabulated by state and total deaths; we can build out the bars in our graph.</p>
<p>The convention for plotly is that each item being plotted is usually called a <code>trace</code>. In this example, we want to plot State vs. Deaths.</p>
<div class="highlight"><pre><span></span><span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_2016</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_2016</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgb(55, 83, 109)&#39;</span><span class="p">)</span> <span class="c1"># darker blue</span>
        <span class="p">)</span>
<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_2017</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_2017</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2017&#39;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgb(26, 118, 255)&#39;</span><span class="p">)</span> <span class="c1"># lighter blue</span>
        <span class="p">)</span>
</pre></div>


<p>Now were ready to build out the actual Dash app.</p>
<div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">()</span>

<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
    <span class="n">html</span><span class="o">.</span><span class="n">H1</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="s1">&#39;Drug Poisoning in the United States in 2016 &amp; 2017&#39;</span><span class="p">),</span>
    <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;(Hover over bars to view death count)&#39;&#39;&#39;</span><span class="p">),</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;example-graph&#39;</span><span class="p">,</span>
        <span class="n">figure</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">trace1</span><span class="p">,</span> <span class="n">trace2</span><span class="p">],</span>
            <span class="s1">&#39;layout&#39;</span><span class="p">:</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Drug Poisoning Mortality by State in 2016 &amp; 2017&#39;</span><span class="p">,</span> <span class="n">barmode</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>
        <span class="p">})</span>
<span class="p">])</span>
</pre></div>


<p>Most of the structure is dash building the app, using HTML components and creating the figure dictionary, containing instructions to build the graph and customize layout.</p>
<p>What I love is the simplicity of how dash integrates HTML components beautifully without having to deal with the standard HTML/CSS/JS boilerplate required for most modern web apps that you see.</p>
<p>Since I'm dealing with various code styles, Atom is my preferred editor to manage matching brackets, parentheses and such.</p>
<p><code>dcc.Graph</code> defines the figure using a using a dictionary that contains the actual figure, plotted data and layout options. In this case, the layout was needed to define the title and bar type graph.</p>
<p>Once the app is laid out, we need to make sure it can run:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>


<p>Running this in your terminal:</p>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">bar_app</span><span class="o">.</span><span class="n">py</span>
</pre></div>


<p>Here's our nice interactive graph:</p>
<p><img src = 'https://github.com/anitatea/blog/blob/master/content/videos/dash_example.gif?raw=true'></p>
<p>Pretty great when you think how much engagement you can get with a simple application of 35 lines of code. You can find the above example available on github.</p>
<p>Not only is the layout and look of dash clean and report-ready; Dash also took care of scaling the interactivity on different browsers. So we can focus on beautiful, pure python!</p>
<p>The entire code:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="nn">dcc</span>
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="nn">html</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;NCHS_-_Drug_Poisoning_Mortality_by_State__United_States.csv&#39;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;State&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Deaths&#39;</span><span class="p">]]</span>

<span class="n">indexUS</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;United States&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">indexUS</span><span class="p">)</span>

<span class="n">df_2016</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2016</span><span class="p">]</span>
<span class="n">df_2017</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2017</span><span class="p">]</span>

<span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_2016</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_2016</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2016&#39;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgb(55, 83, 109)&#39;</span><span class="p">))</span>
<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df_2017</span><span class="p">[</span><span class="s1">&#39;State&#39;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_2017</span><span class="p">[</span><span class="s1">&#39;Deaths&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;2017&#39;</span><span class="p">,</span>
        <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;rgb(26, 118, 255)&#39;</span><span class="p">))</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="o">.</span><span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
    <span class="n">html</span><span class="o">.</span><span class="n">H1</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="s1">&#39;Drug Poisoning in the United States in 2016 &amp; 2017&#39;</span><span class="p">),</span>
    <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;(Hover over bars to view death count)&#39;&#39;&#39;</span><span class="p">),</span>
    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;example-graph&#39;</span><span class="p">,</span>
        <span class="n">figure</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">trace1</span><span class="p">,</span> <span class="n">trace2</span><span class="p">],</span>
            <span class="s1">&#39;layout&#39;</span><span class="p">:</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Drug Poisoning Mortality by State in 2016 &amp; 2017&#39;</span><span class="p">,</span> <span class="n">barmode</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">)</span>
        <span class="p">})</span>
<span class="p">])</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>


<h3>For Fun: A More Complex Example</h3>
<p><a target="_blank" rel="noopener noreferrer" href="http://epic-epidemic.herokuapp.com/">
  <img src="https://github.com/anitatea/blog/blob/master/content/images/dash_heatmap.png?raw=true" alt="Dash Heatmap" >
</a></p>
<p>Dash's real power shines in its ability to combine complex interactions - again all with Python. Dash provides several interactive components out of the box including Dropdowns, Multi-Select Dropdowns, Mapping, Radio Buttons, Checkboxes, Sliders, and Text Input. All of them can be easily constructed and tied into your plots to drive various interactive options.</p>
<p>For a more complex demo, check out my dashboard using the same data, featuring:
* Slider between years of 2012 - 2017
* Fully interactive heatmap of the United States
* Drop down selection to show total counts of death</p>
<p>Here's the <a href="https://epic-epidemic.herokuapp.com/">link</a> to the dashboard. Layout inspired by examples from the Dash-Plotly gallery.</p>
<h3>Final Thoughts</h3>
<p>I've only scratched the surface of this powerful yet simplistic tool. My favourite pieces:
* Quick for building web-based visualization tools without prior knowledge of JavaScript and other web technologies
* Default dashboard is already responsive
* Ability to save, zoom, pan and interact with the display, on the display</p>
<p>Presenting data-driven visualizations to non-technical colleagues can be a struggle, as if you are speaking two different languages without Google Translate. I've seen more than my fair share of presentations and the truly successful ones were the most engaging with their audience.</p></p>
        </div>
    </div>

<div class="fh5co-narrow-content">
<div class="animate-box" data-animate-effect="fadeInLeft">
    <h2><!-- <i class="icon-speech-bubble"></i>  -->Comments</h2>
</div>
<div class="animate-box" data-animate-effect="fadeInLeft">
    <div id="disqus_thread"></div>
</div>

<script>
var disqus_config = function () { 
  this.language = "en";
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://gitcd-dev.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript><a href="https://disqus.com/?ref_noscript">Please enable JavaScript to view the comments powered by Disqus.</a></noscript>
<div class="fh5co-footer">
    <p><small>&copy; Anita Tran 2020 - Built with <a href="http://getpelican.com" target="_blank">Pelican</a>.</span> <span><a href="https://github.com/claudio-walser/pelican-fh5co-marble" target="_blank">FreeHTML5.co Marble Design</a></span>
    <br /></small></p>
</div>        </div>
    </div>

    <!-- jQuery -->
    <script src="http://localhost:8081/theme/js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="http://localhost:8081/theme/js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="http://localhost:8081/theme/js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="http://localhost:8081/theme/js/jquery.waypoints.min.js"></script>
    <!-- Flexslider -->
    <script src="http://localhost:8081/theme/js/jquery.flexslider-min.js"></script>


    <!-- MAIN JS -->
    <script src="http://localhost:8081/theme/js/main.js"></script>
    </body>
</html>